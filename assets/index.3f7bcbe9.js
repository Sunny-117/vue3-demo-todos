var O=Object.defineProperty;var b=Object.getOwnPropertySymbols;var D=Object.prototype.hasOwnProperty,S=Object.prototype.propertyIsEnumerable;var R=(e,t,o)=>t in e?O(e,t,{enumerable:!0,configurable:!0,writable:!0,value:o}):e[t]=o,c=(e,t)=>{for(var o in t||(t={}))D.call(t,o)&&R(e,o,t[o]);if(b)for(var o of b(t))S.call(t,o)&&R(e,o,t[o]);return e};import{r as v,w as N,o as U,a as V,c as m,b as h,d as g,e as s,t as f,f as d,v as E,g as y,h as w,i as k,F as _,j as A,n as p,k as K}from"./vendor.79782e45.js";const M=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))r(n);new MutationObserver(n=>{for(const a of n)if(a.type==="childList")for(const l of a.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function o(n){const a={};return n.integrity&&(a.integrity=n.integrity),n.referrerpolicy&&(a.referrerPolicy=n.referrerpolicy),n.crossorigin==="use-credentials"?a.credentials="include":n.crossorigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(n){if(n.ep)return;n.ep=!0;const a=o(n);fetch(n.href,a)}};M();const C="todomvc";function $(){return Date.now()+Math.random().toString(16).substr(2,4)}function B(){const e=localStorage.getItem(C);return e?JSON.parse(e):[]}function F(e){localStorage.setItem(C,JSON.stringify(e))}function T(e,t="all"){if(t==="all")return e;if(t==="active")return e.filter(o=>!o.completed);if(t==="completed")return e.filter(o=>o.completed);throw new Error("invalid visiblity ")}function I(){const e=v(B());return window.todosRef=e,N(()=>{F(e.value)}),{todosRef:e}}function H(e){const t=v("");return{newTodoRef:t,addTodo:()=>{const r=t.value&&t.value.trim();if(!r)return;const n={title:r,id:$(),completed:!1};e.value.push(n),t.value=""}}}const J=["all","active","completed"];function P(e){const t=v("all"),o=()=>{const l=location.hash.replace(/#\/?/,"");J.includes(l)?t.value=l:(location.hash="",t.value="all")};U(()=>{window.addEventListener("hashchange",o)}),V(()=>{window.removeEventListener("hashchange",o)});const r=m(()=>T(e.value,t.value)),n=m(()=>T(e.value,"active").length),a=m(()=>T(e.value,"completed").length);return{visibilityRef:t,filteredTodosRef:r,remainingRef:n,completedRef:a}}function j(e){const t=v(null);let o=null;const r=i=>{o=i.title,t.value=i},n=i=>{t.value=null;const u=i.title.trim();if(u)i.title=u;else{const L=e.value.indexOf(i);e.value.splice(L,1)}},a=i=>{t.value=null,i.title=o},l=m({get(){return e.value.filter(i=>!i.completed).length===0},set(i){e.value.forEach(u=>{u.completed=i})}});return{editingTodoRef:t,editTodo:r,doneEdit:n,cancelEdit:a,allDoneRef:l}}function q(e){return{remove:r=>{const n=e.value.indexOf(r);e.value.splice(n,1)},removeCompleted:()=>{e.value=e.value.filter(r=>!r.completed)}}}var z=(e,t)=>{const o=e.__vccOpts||e;for(const[r,n]of t)o[r]=n;return o};const W={setup(){const{todosRef:e}=I();return c(c(c(c({todosRef:e},H(e)),P(e)),j(e)),q(e))}},Y={id:"app"},G={class:"todoapp"},Q={class:"header"},X=s("h1",null,"todos",-1),Z={class:"main"},x=s("label",{for:"toggle-all"},"Mark all as complete",-1),ee={class:"todo-list"},te={class:"view"},le=["onUpdate:modelValue"],oe=["onDblclick"],ne=["onUpdate:modelValue","onBlur","onKeyup"],se={class:"footer"},ie={class:"todo-count"},re={class:"filters"};function ae(e,t,o,r,n,a){return h(),g("div",Y,[s("h1",null,f(r.todosRef.length),1),s("section",G,[s("header",Q,[X,d(s("input",{class:"new-todo",autofocus:"",autocomplete:"off",placeholder:"What needs to be done?","onUpdate:modelValue":t[0]||(t[0]=l=>e.newTodoRef=l),onKeyup:t[1]||(t[1]=y((...l)=>e.addTodo&&e.addTodo(...l),["enter"]))},null,544),[[E,e.newTodoRef]])]),d(s("section",Z,[d(s("input",{id:"toggle-all",class:"toggle-all",type:"checkbox","onUpdate:modelValue":t[2]||(t[2]=l=>e.allDoneRef=l)},null,512),[[k,e.allDoneRef]]),x,s("ul",ee,[(h(!0),g(_,null,A(e.filteredTodosRef,l=>(h(),g("li",{class:p({completed:l.completed==!0,editing:l===e.editingTodoRef}),key:l.id},[s("div",te,[d(s("input",{class:"toggle",type:"checkbox","onUpdate:modelValue":i=>l.completed=i},null,8,le),[[k,l.completed]]),s("label",{onDblclick:i=>e.editTodo(l)},f(l.title),41,oe),s("button",{class:"destroy",onClick:t[3]||(t[3]=(...i)=>e.remove&&e.remove(...i))})]),d(s("input",{"onUpdate:modelValue":i=>l.title=i,class:"edit",type:"text",onBlur:i=>e.doneEdit(l),onKeyup:[y(i=>e.doneEdit(l),["enter"]),y(i=>e.cancelEdit(l),["esc"])]},null,40,ne),[[E,l.title]])],2))),128))])],512),[[w,r.todosRef.length>0]]),d(s("footer",se,[s("span",ie,[s("strong",null,f(e.remainingRef),1),s("span",null,"item"+f(e.remainingRef===1?"":"s")+" left",1)]),s("ul",re,[s("li",null,[s("a",{href:"#/all",class:p({selected:e.visibilityRef==="all"})},"All",2)]),s("li",null,[s("a",{href:"#/active",class:p({selected:e.visibilityRef==="active"})},"Active",2)]),s("li",null,[s("a",{href:"#/completed",class:p({selected:e.visibilityRef==="completed"})},"Completed",2)])]),d(s("button",{class:"clear-completed",style:{display:"none"},onClick:t[4]||(t[4]=(...l)=>e.removeCompleted&&e.removeCompleted(...l))}," Clear completed ",512),[[w,e.completedRef>0]])],512),[[w,r.todosRef.length>0]])])])}var de=z(W,[["render",ae]]);K(de).mount("#app");
